<!doctype html>
<html data-framework="vue" class="xxx">
  <head>
    <meta charset="utf-8">
    <title>Music Player</title>
    <style>
      [v-cloak] { display: none; }
    li.playing {
      font-weight: bold;
    }
    .albumlist {
      column-count: 2;
    }
    .album {
      height: 100%;
      min-height: 10em;
      width: 100%;
    }
    </style>

    
  <template type="text/x-template" id="audio-player-template">
    <div>
      <audio ref="audio" controls preload id="audio_player">
        <source :src="playHack"/>
        Your browser does not support the audio element.
      </audio>
      <template v-if="currentItem">
      <h1>{{ currentItem.title }}</h1>
      <h3>{{ currentItem.artist }} / {{ currentItem.album }}</h3>
      </template>
    </div>
    </template>
    
  </head>
  
  <body>
    
    <section class="player">
      <audio-player
        :current-item="current_item"
        v-on:ended="playNext"></audio-player> 
      <section class="playlist" 
               v-show="playlist.length"  v-cloak>
        <ul>
          <li v-for="item in playlist"
            :key="item.id"
            :class="{ playing: current_item && current_item.id == item.id}">
            <label @click="playSong(item)">{{ item.title }}</label>
          </li>
        </ul>
      </section>
      <a href="#front">Choose new albums</a>
      <section class="random_albums" v-show="random_albums.length && !playlist.length"  v-cloak>
        <div class="albumlist">
          <img v-for="album in random_albums"
              class="album"
              @click="route_playAlbum(album)"
              :src="album.cover_url"
              :alt="album.album + ' ' + (album.albumartist || album.artist)"
              :title="album.album + ' ' + (album.albumartist || album.artist)"
               />
        </div>
      </section>
    
    <button @click="updateDb()">Update DB! </button>

    <pre>{{Â debugzone }}</pre>
    </section>

  <script src="https://cdn.jsdelivr.net/lodash/4.16.6/lodash.core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/vue/2.0.5/vue.min.js"></script>
    <script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
    <script src="js/musicdb.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
